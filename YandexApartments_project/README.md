# Исследование объявлений о продаже квартир

## Описание проекта:
В нашем распоряжении данные сервиса Яндекс.Недвижимость — архив объявлений о продаже квартир в Санкт-Петербурге и соседних населённых пунктов за несколько лет. Нужно научиться определять рыночную стоимость объектов недвижимости. Наша задача — установить параметры. Это позволит построить автоматизированную систему: она отследит аномалии и мошенническую деятельность.

По каждой квартире на продажу доступны два вида данных. Первые вписаны пользователем, вторые — получены автоматически на основе картографических данных. Например, расстояние до центра, аэропорта, ближайшего парка и водоёма.

<br>

## Навыки и инструменты:
`Предобработка данных`
`EDA` 
`Визуализация данных`
`Python` 
`Pandas` 
`Matplotlib` 

<br>

## Проделанная работа:
- На основе данных сервиса Яндекс.Недвижимость определена рыночная стоимость объектов недвижимости разного типа, типичные параметры квартир, в зависимости от
удаленности от центра. 
- Проведена предобработка данных. Добавлены новые данные.
- Построены гистограммы для основных параметров датасета и проведён исследовательский анализ.

<br>

## Выводы:

- Была получена первоначальная информация по датасету.

- Обнаружены пропуски в датасете, кол-во некоторых доходит до 88.29%. Кол-во столбцов с пропусками 14 (всего в датасете 22 столбца). 
- Явных дубликаты в датасете не было обнаружено. 
- Замечены аномалии, к примеру, минимальное значение потолка 1 метр, а максимальное 100 метров.

- Найдены пропуски, неявные дубликаты и аномалии в датасете. 
- Была проведена работа по заполнению пропусков, удаление ненужных строк из датасета. 
- Аномалии и дубликаты обработаны.

- Заменены неявные дубликаты (раньше названия населенных пунктов повторялись из-за разной записи). 
- Столбец с датой приведен к округленному до дней и правильному форматам. 
- Пропуски в столбце с высотой потолков заменены медианным значением. 
- Пропуски в kitchen area исправлены на значение равное 17.2% от общей площади квартиры, что является медианным значением.
- Пропуски в living area исправлены на значение равное 56.8% от общей площади квартиры, что является медианным значением. 
- Удалены квартиры, которые продаются больше 500 дней, кол-во квартир от всего датасета составляет 7.35%.
- Было выявлено, что пропуски в данных с количеством парков и прудов в радиусе 3000 метров означали отсутсвие таковых в данном радиусе. Пропуски были заменены на значение 3001.

Были изменены типы данных некоторых столбцов, где это необходимо.

В датафрейм добавлены новые показатели:

отношение кухни и жилой площади к общей площади помещения, цена за кв метр, день, месяц и год публикации объявлений, категория этажа.

Время продаж в основном приходится на 2017 и 2018 год (немного больше 8000 объявлений).

Среднее значение длительности размещения квартиры на площадке Яндекса равняется 180 дням, а медиана равна 95 дням. 

Выявлены выбивающиеся значения. Аномалии находятся на 45, 60, 7, 30, 90 днях. Данные аномалии связаны с тем, что сроки публикации на яндексе соответсвуют этим дням.

- Продажа комнаты - 45 дней
- Продажа дома, участка или гаража - 90 дней
- Аренда комнаты - 7 днейАренда комнаты, участка или гаража - 30 дней
- Аренда и продажа коммерческого объекта - 60 дней
- Продажа квартиры: до 4,5 млн — 45 дней, от 4,5 до 10 млн — 60 дней, от 10 млн — 90 дней
- Аренда квартиры: до 20 тыс/м — 7 дней, от 20 до 40 тыс/м — 14 дней, от 40 тыс/м — 21 день
- Аренда посуточная: Квартира, Комната, Дом / участок, Гараж - 60 дней.

Построены распределения и статистические данные по основным параметрам объекта и сделаны общие выводы:

- **Общая площадь:** Значения лежат в диапозоне от 12 до 900 м2. Среднее значение 60 м2, медианное значение 52 м2. Данные распределены нормально, пикующие значения наблюдаются в области 35-40 м2 и 55-60 м2 - средние площади одно- и двухкомнатных квартир.

- **Жилая площадь:** Значения лежат в диапозоне от 2 до 410 м2. Среднее значение 34 м2, медианное значение 30 м2. Данные распределены нормально, пикующие значения наблюдаются в области 15-20 м2 и 28-30 м2 - средние жилые площади одно- и двухкомнатных квартир. Есть редкие выбросы в районе 40-43 м2, не влияющие на данные. Нижняя граница составляет 2 м2 при нижней границе общей площади 12 м2, что может говорить о некоторой некорректности данных в области нижних границ распределения, однако таких значений мало по отношению к общему числу данных. Возможно в данных содержится информация о нежилых помещениях типа гаража или кладовки.

- **Кухонная площадь:** Значения лежат в диапозоне от 1.3 до 112 м2. Среднее значение 10.4 м2, медианное значение 9 м2. Данные распределены нормально, пикующие значения наблюдаются в областях 5, 7 и 11 м2. Нижняя граница составляет 1 м2 при нижней границе общей площади 12 м2, что может говорить о некоторой некорректности данных в области нижних границ распределения, однако таких значений мало по отношению к общему числу данных. Возможно в данных содержится информация о нежилых помещениях типа гаража или кладовки.

- **Цена объекта в объявлении:** Значения лежат в диапозоне от 12190 до 763000000. Среднее значение 6490621, медианное значение 4610000. Данные распределены нормально, явных пикующих значений не обнаружено.

- **Количество комнат:** Значения лежат в диапозоне от 0 до 19. Среднее значение 2, медианное значение 2. Данные распределены нормально. Большинство объектов имеют одну или две комнаты. Есть объекты, которые не содержат комнат, что еще раз говорит о содержании нежилых помещений в данных.

- **Этаж объекта:** Значения лежат в диапозоне от 1 до 33. Среднее значение 6, медианное значение 4. Данные можно описать экспоненциально с пороговым значением в районе 1. Большинство объектов находятся в диапозоне от 1 до 5 этажа, далее распределение убывает.

- **Число этажей в доме объекта:** Значения лежат в диапозоне от 1 до 60. Среднее значение 11, медианное значение 9. Основные пики наблюдаются в значениях 5 и 9 этажей. Менее пикующие значения: 13, 17 и 26 этажей.

- **Расстояние от объекта до центра города:** Значения лежат в диапозоне от 0.2 до 66 км. Среднее значение 14.2 км, медианное значение 13.1 км. Имеется явный провал в данных в диапозоне 6-10 км, что создаёт два пика по обеим сторонам от провала.

- **Расстояние от объекта до ближайшего аэропорта:** Значения лежат в диапозоне от 0 до 84.9 км. Среднее значение 28.8 км, медианное значение 26.8 км. Данные распределены по всему диапозону с множеством пиков, с возрастанием значением распределение убывает. Есть аномальные значения в районе 0, которое можно отбросить.

- **День публикации объявления:** Значения лежат в ожидаемом диапозоне от 1 до 31 числа месяца. Среднее значение 15, медианное значение 15. Существуют выбросы в значениях 1 числа месяца и 10 числа месяца - наиболее популярные дни публикаций объявления.

- **Месяц публикации объявления:** Значения лежат в ожидаемом диапозоне от 1 до 12. Среднее значение 6, медианное значение 6. Существуют выбросы в значении 12 - наибольшее число объявлений публикуется в конце года. Наименьшие значения 1 и 5 - в январе и мае.

- **Год публикации объявления:** Значения лежат в ожидаемом диапозоне от 2014 до 2019 года. Среднее значение 2017, медианное значение 2017. Платфома Яндекс.Недвижимость набирала популярность с каждым годом - число публикаций год к году росло. Данные для 2019 года неполные - до мая 2019 года, поэтому наблюдается провал. Данные для 2014 года также неполные и начинаются с ноября.

- **Высота потолков**: Значения лежат в диапозоне от 2 до 4 м, так как остальные аномальные значения были ранее отброшены. Среднее значение 2.69 м, медианное значение 2.65 м. Наблюдаются явные пики в значениях 2.5 и 2.65 (медиана) метров.

- **Расстояние от объекта до ближайшего парка:** Значения исследовались в диапозоне от 0 до 3000 метров. Распределение лежит в диапозоне от 1 до 2984 м. Среднее значение 489 м, медианное значение 454 м. Распределение нормальное с редкими выбросами после 1000 м.

- **Расстояние от объекта до ближайшего пруда:** Значения исследовались в диапозоне от 0 до 3000 метров. Распределение лежит в диапозоне от 13 до 1344 м. Среднее значение 518.4 м, медианное значение 503 м. Распределение нормальное.

Сделаны графики соотношений цены к другим показателям квартир

- *Корреляция ЦЕНА-ОБЩАЯ ПЛОЩАДЬ* = 0.621. Чем больше общая площадь помещения, тем выше цена. Основная плотность числа объявлений находится в дипазоне 0-120 м2 по общей площади и 0-18000000 по цене объекта.

- *Корреляция ЦЕНА-ЖИЛАЯ ПЛОЩАДЬ* = 0.549. Чем больше жилая площадь помещения, тем выше цена. Основная плотность числа объявлений находится в дипазоне 0-70 м2 по жилой площади и 0-16000000 по цене объекта.

- *Корреляция ЦЕНА-КУХОННАЯ ПЛОЩАДЬ* = 0.477. Чем больше кухонная площадь помещения, тем выше цена. Основная плотность числа объявлений находится в дипазоне 0-21 м2 по кухонной площади и 0-16000000 по цене объекта.

- *Корреляция ЦЕНА – ЧИСЛО КОМНАТ* = 0.04. Цена за квадратный метр уменьшается, приближаясь к отметке в "3 комнаты", затем цена за квадратный метр опять возрастает. Цена за квадратный метр в 3-ех и 4-ех комнатных квартирах примерно одинаковая. Наибольшей плотностью охарактеризованы объявления 2- и 1-комнатных объектов, далее плотность идёт на спад.

- *Корреляция ЦЕНА – ЭТАЖ* = 0.143. Первый этаж является самым дешевым. Последние этажи дороже первых, но обычно не намного. Дорогими являются промежуточные этажи. Наиболее дорогими этажами являются те, что расположены ближе к последнему в домах высотных зданий.

- *Корреляция ЦЕНА – ДЕНЬ НЕДЕЛИ* = 0.004. Четкой взаимосвязи между днем недели и ценой объекта нет. Можно разве что утверждать, что объявления с наибольшей ценой публикуются чаще во вторник, а с наименьшей - в воскресенье.

- *Корреляция ЦЕНА — ДЕНЬ МЕСЯЦА* = 0.006. Зависимости между ценой и днем публикации нет, данные сильно разнятся, четких закономерностей не обнаружено. Можно разве что утверждать, что объявления с наибольшей ценой публикуются чаще в 4-ый день месяца, а с наименьшей - в 6-ой.

- *Корреляция ЦЕНА — МЕСЯЦ* = 0.004. Зависимость между месяцами и ценой объекта также не выявлена, но можно утверждать, что в июне квартиры выставляются по меньшей цене, чем в остальные месяцы. Можно разве что утверждать, что объявления с наибольшей ценой публикуются чаще в апреле, а с наименьшей - в июне.

- *Корреляция ЦЕНА — ГОД* = -0.033. в 2014 году выкладывались объявления с наиболее дорогими объектами. Наиболее дешевые объекты были выставлены на продажу в 2016, 2017 и 2018 годах. Корреляция не обнаружена между показателями "цена" и "год", коэффициент Пирсона = -0.033. Нет линейной зависимости.

Выявлен топ 10 населенных пунктов по кол-ву объявлений:

![Table_Top10](https://github.com/RamJacky/DS_Portfolio/blob/main/YandexApartments_project/attachments/1.png)

самые дешевые объекты находятся в Старополье: 11206 (среднее значение цены за кв. м.)
самые дорогие объекты находятся в Лисий Нос	113728 (среднее значение цены за кв. м.)

Была расчитана средняя цена каждого километра удалённости от центра города Санкт-Петербурга. Из результатов распределения можно сделать выводы: 

Чем ближе к центру находится объект, тем выше цена за квадратный метр. Цена сильно падает после 7 км. Следовательно, можно обозначить радиус в 7 км как центр города. Далее цена плавно падает вплоть до 26 км, что свидетельствует о том, что есть достаточно дорогие районы на окраине города.
